(self.webpackChunkenp_app_store=self.webpackChunkenp_app_store||[]).push([[592],{4592:(e,t,a)=>{a.r(t),a.d(t,{default:()=>o});var s=a(5043),r=a(6213),l=a(1036),c=(a(2342),a(579));const o=function(){const[e,t]=(0,s.useState)({file:""}),[a,o]=(0,s.useState)("fetch"),[n,d]=(0,s.useState)([]),[i,h]=(0,s.useState)([]);return(0,s.useEffect)((()=>{"fetch"===a&&((async()=>{try{const e=await r.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/getOVOCVendorFiles"));e&&(d(e.data.data),h(e.data.data))}catch(e){console.log(e)}})(),o("do not fetch"))}),[a]),(0,s.useEffect)((()=>{const t=null===n||void 0===n?void 0:n.filter((t=>Object.keys(e).every((a=>String(t[a]).toLowerCase().includes(e[a].toLowerCase())))));h(t)}),[e,n]),(0,c.jsx)("div",{className:"overflow-x-auto px-4",children:(0,c.jsxs)("table",{className:"min-w-full bg-white rounded-lg",children:[(0,c.jsxs)("thead",{className:"text-xs",children:[(0,c.jsx)("tr",{className:"bg-blue-200 border border-black",children:(0,c.jsx)("th",{className:"p-2",children:"File ID"})}),(0,c.jsx)("tr",{children:(0,c.jsx)("th",{className:"border border-black p-2",children:(0,c.jsx)("input",{className:"p-2 border border-black",type:"text",name:"file",value:e.file,onChange:a=>{const{name:s,value:r}=a.target;t({...e,[s]:r})},placeholder:"Filter by file name"})})})]}),(0,c.jsx)("tbody",{className:"text-xs",children:null===i||void 0===i?void 0:i.map(((e,t)=>(0,c.jsx)("tr",{children:(0,c.jsxs)("td",{className:"flex justify-between border border-black p-2",children:[(0,c.jsx)("div",{children:e.file}),(0,c.jsx)("div",{className:"bg-transparent flex justify-end space-x-8",children:(0,c.jsx)("button",{className:"bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-0.5 px-1.5 rounded shadow-lg transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0.5",onClick:()=>{(async e=>{if(e)try{const t=await r.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/getAttachments/").concat(e),{responseType:"blob"});if(t){const a=window.URL.createObjectURL(new Blob([t.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",e),document.body.appendChild(s),s.click()}else l.oR.error(t.data.message)}catch(t){l.oR.error("Error fetching file."),console.log("Error fetching file: ".concat(t.message))}else l.oR.error("No file found")})(e.file)},children:"Download"})})]})},t)))})]})})}}}]);
//# sourceMappingURL=592.2dfccba2.chunk.js.map