(self.webpackChunkenp_app_store=self.webpackChunkenp_app_store||[]).push([[754],{754:(e,t,a)=>{a.r(t),a.d(t,{default:()=>F});var o=a(5043),r=a(7972),n=a(707),i=a(4256),l=a(6796),s=a(7784),c=a(3193),d=a(9190),u=a(2991),p=a(8587),v=a(8168),m=a(8387),h=a(8606),b=a(7266),g=a(4535),x=a(1475),f=a(2876),A=a(1347),y=a(2949),S=a(5013),C=a(5849),w=a(7056);const z=(0,w.A)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const I=(0,w.A)("MuiListItemIcon",["root","alignItemsFlexStart"]);const R=(0,w.A)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var j=a(2400);function N(e){return(0,j.Ay)("MuiMenuItem",e)}const k=(0,w.A)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var M=a(579);const O=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],W=(0,g.Ay)(y.A,{shouldForwardProp:e=>(0,x.A)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,a.dense&&t.dense,a.divider&&t.divider,!a.disableGutters&&t.gutters]}})((e=>{let{theme:t,ownerState:a}=e;return(0,v.A)({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!a.disableGutters&&{paddingLeft:16,paddingRight:16},a.divider&&{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(k.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,b.X4)(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(k.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):(0,b.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(k.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):(0,b.X4)(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):(0,b.X4)(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(k.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(k.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},["& + .".concat(z.root)]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},["& + .".concat(z.inset)]:{marginLeft:52},["& .".concat(R.root)]:{marginTop:0,marginBottom:0},["& .".concat(R.inset)]:{paddingLeft:36},["& .".concat(I.root)]:{minWidth:36}},!a.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},a.dense&&(0,v.A)({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{["& .".concat(I.root," svg")]:{fontSize:"1.25rem"}}))})),L=o.forwardRef((function(e,t){const a=(0,f.A)({props:e,name:"MuiMenuItem"}),{autoFocus:r=!1,component:n="li",dense:i=!1,divider:l=!1,disableGutters:s=!1,focusVisibleClassName:c,role:d="menuitem",tabIndex:u,className:b}=a,g=(0,p.A)(a,O),x=o.useContext(A.A),y=o.useMemo((()=>({dense:i||x.dense||!1,disableGutters:s})),[x.dense,i,s]),w=o.useRef(null);(0,S.A)((()=>{r&&w.current&&w.current.focus()}),[r]);const z=(0,v.A)({},a,{dense:y.dense,divider:l,disableGutters:s}),I=(e=>{const{disabled:t,dense:a,divider:o,disableGutters:r,selected:n,classes:i}=e,l={root:["root",a&&"dense",t&&"disabled",!r&&"gutters",o&&"divider",n&&"selected"]},s=(0,h.A)(l,N,i);return(0,v.A)({},i,s)})(a),R=(0,C.A)(w,t);let j;return a.disabled||(j=void 0!==u?u:-1),(0,M.jsx)(A.A.Provider,{value:y,children:(0,M.jsx)(W,(0,v.A)({ref:R,role:d,tabIndex:j,component:n,focusVisibleClassName:(0,m.A)(I.focusVisible,c),className:(0,m.A)(I.root,b)},g,{ownerState:z,classes:I}))})}));var E=a(1673),T=a(1906),D=a(6213),B=a(1036),V=a(7475);const F=function(){const e=JSON.parse(sessionStorage.getItem("userData")).ADID,[t,a]=(0,o.useState)("setRole"),[p,v]=(0,o.useState)([]),[m,h]=(0,o.useState)(""),[b,g]=(0,o.useState)([]),[x,f]=(0,o.useState)(""),[A,y]=(0,o.useState)(""),[S,C]=(0,o.useState)(""),[w,z]=(0,o.useState)(""),[I,R]=(0,o.useState)(""),[j,N]=(0,o.useState)({}),[k,O]=(0,o.useState)(!1),W=JSON.parse(sessionStorage.getItem("userData")).token;(0,o.useEffect)((()=>{(async()=>{try{const e=await D.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/roleGet/get-module"));v(e.data.data)}catch(e){console.error("Failed to fetch systems:",e)}})()}),[]);const F={options:p,getOptionLabel:e=>void 0!=e?null===e||void 0===e?void 0:e.er_role_id:[]};(0,o.useEffect)((()=>{void 0!=m&&(async()=>{try{const e=await D.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/roleGet/get-role"),{Module:m});g(e.data.data)}catch(e){console.error("No codes found:",e)}})()}),[m]);const q={options:b,getOptionLabel:e=>void 0!=e?null===e||void 0===e?void 0:e.er_role_cd:[]};return(0,M.jsxs)(M.Fragment,{children:[k&&(0,M.jsx)(V.A,{}),(0,M.jsx)(B.N9,{}),(0,M.jsxs)("div",{className:"flex w-full items-center justify-end bg-white overflow-auto",children:[(0,M.jsxs)("div",{className:"w-7/12",children:[(0,M.jsx)("div",{className:"circle xlarge shade2"}),(0,M.jsx)("div",{className:"circle large shade3"}),(0,M.jsx)("div",{className:"circle mediun shade4"}),(0,M.jsx)("div",{className:"circle small shade5"})]}),(0,M.jsx)("div",{className:"w-5/12 flex-col px-12 h-full justify-end self-start mt-3",children:(0,M.jsxs)("div",{className:"bg-blue-100 shadow-2xl shadow-black p-6 rounded-xl",children:[(0,M.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Role Management"}),(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsxs)(r.A,{row:!0,onChange:e=>{a(e.target.value),h(""),f(""),y(""),R(""),C(""),z("")},value:void 0==t?"":t,required:!0,children:[(0,M.jsx)(n.A,{className:"ml-4",value:"setRole",control:(0,M.jsx)(i.A,{}),label:"Add/Revoke Access"}),(0,M.jsx)(n.A,{className:"ml-4",value:"createRole",control:(0,M.jsx)(i.A,{}),label:"Create Module/Function"})]})}),"setRole"===t?(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(l.A,{...F,id:"module",disableClearable:!0,onChange:(e,t)=>{h(null===t||void 0===t?void 0:t.er_role_id)},renderInput:e=>(0,M.jsx)(s.A,{...e,label:"Module",variant:"outlined",fullWidth:!0,required:!0,error:!!j.module,helperText:j.module})})}):(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(s.A,{label:"Module",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>h(e.target.value),error:!!j.module,helperText:j.module})}),"setRole"===t?(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(l.A,{...q,id:"roleCode",disableClearable:!0,onChange:(e,t)=>{f(null===t||void 0===t?void 0:t.er_role_cd)},renderInput:e=>(0,M.jsx)(s.A,{...e,label:"Role Code",variant:"outlined",fullWidth:!0,required:!0,error:!!j.roleCode,helperText:j.roleCode})})}):(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(s.A,{label:"Role Code",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>f(e.target.value),error:!!j.roleCode,helperText:j.roleCode})}),"setRole"===t?(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(s.A,{label:"User ADID",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>y(e.target.value),error:!!j.userId,helperText:j.userId})}):"","setRole"===t?(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsxs)(c.A,{fullWidth:!0,required:!0,error:!!j.activeFlag,children:[(0,M.jsx)(d.A,{id:"active-label",children:"Active"}),(0,M.jsxs)(u.A,{labelId:"active-label",value:I,onChange:e=>R(e.target.value),label:"Active",children:[(0,M.jsx)(L,{value:"Y",children:"Y"}),(0,M.jsx)(L,{value:"N",children:"N"})]}),(0,M.jsx)(E.A,{children:j.activeFlag})]})}):"","setRole"===t?(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(s.A,{label:"Role Description",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>C(e.target.value)})}):(0,M.jsx)("div",{className:"mb-4",children:(0,M.jsx)(s.A,{label:"URL",variant:"outlined",fullWidth:!0,required:!0,onChange:e=>z(e.target.value),error:!!j.url,helperText:j.url})}),(0,M.jsxs)("div",{className:"flex space-x-4",children:[(0,M.jsx)(T.A,{variant:"contained",color:"primary",onClick:async a=>{if(a.preventDefault(),(()=>{let e={},a=!0;return""===m&&(e.module="Module name is required",a=!1),""===x&&(e.roleCode="Role code is required",a=!1),"setRole"===t?(""===A&&(e.userId="userId is required",a=!1),""===I&&(e.activeFlag="Active flag is required",a=!1)):""===w&&(e.url="URL is required",a=!1),N(e),a})()){O(!0);let a="";a="setRole"===t?await D.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/roleSet/set-role"),{USER_ID:A,ROLE:x,ACTIVE_FLAG:I,DESC:S,ADID:e},{headers:{"auth-token":W}}):await D.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/roleSet/create-role"),{SYS:m,ROLE:x,URL:w,ADID:e},{headers:{"auth-token":W}}),a?(B.oR.success(a.data.message),setTimeout((()=>{O(!0),window.location.reload(),O(!1)}),6e3)):B.oR.error(a.data.message),O(!1)}else B.oR.error("Form has errors!")},children:"Register"}),(0,M.jsx)(T.A,{variant:"outlined",color:"secondary",onClick:()=>{h(""),f(""),y(""),R(""),C(""),z("")},children:"Reset"})]})]})})]})]})}},1906:(e,t,a)=>{a.d(t,{A:()=>R});var o=a(8587),r=a(8168),n=a(5043),i=a(8387),l=a(2018),s=a(8606),c=a(7266),d=a(4535),u=a(1475),p=a(2876),v=a(2949),m=a(6803),h=a(7056),b=a(2400);function g(e){return(0,b.Ay)("MuiButton",e)}const x=(0,h.A)("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]);const f=n.createContext({});const A=n.createContext(void 0);var y=a(579);const S=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],C=e=>(0,r.A)({},"small"===e.size&&{"& > *:nth-of-type(1)":{fontSize:18}},"medium"===e.size&&{"& > *:nth-of-type(1)":{fontSize:20}},"large"===e.size&&{"& > *:nth-of-type(1)":{fontSize:22}}),w=(0,d.Ay)(v.A,{shouldForwardProp:e=>(0,u.A)(e)||"classes"===e,name:"MuiButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.root,t[a.variant],t["".concat(a.variant).concat((0,m.A)(a.color))],t["size".concat((0,m.A)(a.size))],t["".concat(a.variant,"Size").concat((0,m.A)(a.size))],"inherit"===a.color&&t.colorInherit,a.disableElevation&&t.disableElevation,a.fullWidth&&t.fullWidth]}})((e=>{let{theme:t,ownerState:a}=e;var o,n;const i="light"===t.palette.mode?t.palette.grey[300]:t.palette.grey[800],l="light"===t.palette.mode?t.palette.grey.A100:t.palette.grey[700];return(0,r.A)({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":(0,r.A)({textDecoration:"none",backgroundColor:t.vars?"rgba(".concat(t.vars.palette.text.primaryChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"text"===a.variant&&"inherit"!==a.color&&{backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"outlined"===a.variant&&"inherit"!==a.color&&{border:"1px solid ".concat((t.vars||t).palette[a.color].main),backgroundColor:t.vars?"rgba(".concat(t.vars.palette[a.color].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):(0,c.X4)(t.palette[a.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},"contained"===a.variant&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:l,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},"contained"===a.variant&&"inherit"!==a.color&&{backgroundColor:(t.vars||t).palette[a.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[a.color].main}}),"&:active":(0,r.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[8]}),["&.".concat(x.focusVisible)]:(0,r.A)({},"contained"===a.variant&&{boxShadow:(t.vars||t).shadows[6]}),["&.".concat(x.disabled)]:(0,r.A)({color:(t.vars||t).palette.action.disabled},"outlined"===a.variant&&{border:"1px solid ".concat((t.vars||t).palette.action.disabledBackground)},"contained"===a.variant&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},"text"===a.variant&&{padding:"6px 8px"},"text"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main},"outlined"===a.variant&&{padding:"5px 15px",border:"1px solid currentColor"},"outlined"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].main,border:t.vars?"1px solid rgba(".concat(t.vars.palette[a.color].mainChannel," / 0.5)"):"1px solid ".concat((0,c.X4)(t.palette[a.color].main,.5))},"contained"===a.variant&&{color:t.vars?t.vars.palette.text.primary:null==(o=(n=t.palette).getContrastText)?void 0:o.call(n,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},"contained"===a.variant&&"inherit"!==a.color&&{color:(t.vars||t).palette[a.color].contrastText,backgroundColor:(t.vars||t).palette[a.color].main},"inherit"===a.color&&{color:"inherit",borderColor:"currentColor"},"small"===a.size&&"text"===a.variant&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"text"===a.variant&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"outlined"===a.variant&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"outlined"===a.variant&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},"small"===a.size&&"contained"===a.variant&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},"large"===a.size&&"contained"===a.variant&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},a.fullWidth&&{width:"100%"})}),(e=>{let{ownerState:t}=e;return t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},["&.".concat(x.focusVisible)]:{boxShadow:"none"},"&:active":{boxShadow:"none"},["&.".concat(x.disabled)]:{boxShadow:"none"}}})),z=(0,d.Ay)("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.startIcon,t["iconSize".concat((0,m.A)(a.size))]]}})((e=>{let{ownerState:t}=e;return(0,r.A)({display:"inherit",marginRight:8,marginLeft:-4},"small"===t.size&&{marginLeft:-2},C(t))})),I=(0,d.Ay)("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(e,t)=>{const{ownerState:a}=e;return[t.endIcon,t["iconSize".concat((0,m.A)(a.size))]]}})((e=>{let{ownerState:t}=e;return(0,r.A)({display:"inherit",marginRight:-4,marginLeft:8},"small"===t.size&&{marginRight:-2},C(t))})),R=n.forwardRef((function(e,t){const a=n.useContext(f),c=n.useContext(A),d=(0,l.A)(a,e),u=(0,p.A)({props:d,name:"MuiButton"}),{children:v,color:h="primary",component:b="button",className:x,disabled:C=!1,disableElevation:R=!1,disableFocusRipple:j=!1,endIcon:N,focusVisibleClassName:k,fullWidth:M=!1,size:O="medium",startIcon:W,type:L,variant:E="text"}=u,T=(0,o.A)(u,S),D=(0,r.A)({},u,{color:h,component:b,disabled:C,disableElevation:R,disableFocusRipple:j,fullWidth:M,size:O,type:L,variant:E}),B=(e=>{const{color:t,disableElevation:a,fullWidth:o,size:n,variant:i,classes:l}=e,c={root:["root",i,"".concat(i).concat((0,m.A)(t)),"size".concat((0,m.A)(n)),"".concat(i,"Size").concat((0,m.A)(n)),"color".concat((0,m.A)(t)),a&&"disableElevation",o&&"fullWidth"],label:["label"],startIcon:["icon","startIcon","iconSize".concat((0,m.A)(n))],endIcon:["icon","endIcon","iconSize".concat((0,m.A)(n))]},d=(0,s.A)(c,g,l);return(0,r.A)({},l,d)})(D),V=W&&(0,y.jsx)(z,{className:B.startIcon,ownerState:D,children:W}),F=N&&(0,y.jsx)(I,{className:B.endIcon,ownerState:D,children:N}),q=c||"";return(0,y.jsxs)(w,(0,r.A)({ownerState:D,className:(0,i.A)(a.className,B.root,x,q),component:b,disabled:C,focusRipple:!j,focusVisibleClassName:(0,i.A)(B.focusVisible,k),ref:t,type:L},T,{classes:B,children:[V,v,F]}))}))}}]);
//# sourceMappingURL=754.56fd9e03.chunk.js.map