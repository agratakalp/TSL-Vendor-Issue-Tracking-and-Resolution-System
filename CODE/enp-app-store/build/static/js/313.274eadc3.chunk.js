(self.webpackChunkenp_app_store=self.webpackChunkenp_app_store||[]).push([[313],{1313:(e,a,t)=>{t.r(a),t.d(a,{default:()=>S});var l=t(5043),s=t(1036),r=(t(2342),t(7784)),o=t(6796),c=t(7972),n=t(707),d=t(4256),i=t(9650),m=t(3336),p=t(1806),v=t(4882),h=t(8076),x=t(2420),u=t(3460),f=t(1962),g=t(35),_=t(1906),b=t(9347),w=t(5316),j=t(8533),N=t(6600),y=t(6213),A=t(6159),E=t.n(A),R=t(7475),C=t(579);function k(e){let{Mode:a,Head:t,Warn:s}=e;const[r,o]=l.useState(!1);l.useEffect((()=>{"A"!==a&&"R"!==a&&"UA"!==a||o(!r)}),[a]);return(0,C.jsx)(l.Fragment,{children:(0,C.jsxs)(g.A,{open:r,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,C.jsx)(N.A,{id:"alert-dialog-title",children:t}),(0,C.jsx)(w.A,{children:(0,C.jsx)(j.A,{id:"alert-dialog-description",children:s})}),(0,C.jsxs)(b.A,{children:[(0,C.jsx)(_.A,{onClick:()=>{o(!r)},children:"Yes"}),(0,C.jsx)(_.A,{onClick:()=>{o(!r),window.location.reload()},autoFocus:!0,children:"No"})]})]})})}const S=function(){const[e,a]=(0,l.useState)(!1),[t,A]=(0,l.useState)(),[S,L]=(0,l.useState)(),I=JSON.parse(sessionStorage.getItem("userData")).ADID,M=(new Date()).getDate(),P=(new Date()).getMonth()+1,D=(new Date()).getFullYear(),T="".concat(D,"-").concat(P,"-").concat(M),[V,O]=(0,l.useState)([]),[F,Y]=(0,l.useState)(""),[q,W]=(0,l.useState)(),[U,B]=(0,l.useState)(),[H,z]=(0,l.useState)(),[X,G]=(0,l.useState)(),[J,K]=(0,l.useState)(),[Q,Z]=(0,l.useState)("N"),[$,ee]=(0,l.useState)(),[ae,te]=(0,l.useState)(),[le,se]=(0,l.useState)(),[re,oe]=(0,l.useState)(),[ce,ne]=(0,l.useState)("don't exist"),[de,ie]=(0,l.useState)(0),[me,pe]=(0,l.useState)(0),ve=new Date("2024-03-25"),[he,xe]=(0,l.useState)(),[ue,fe]=(0,l.useState)(),[ge,_e]=(0,l.useState)(),[be,we]=(0,l.useState)(),[je,Ne]=(0,l.useState)(),[ye,Ae]=(0,l.useState)(),[Ee,Re]=(0,l.useState)(),[Ce,ke]=(0,l.useState)(),[Se,Le]=(0,l.useState)(),[Ie,Me]=(0,l.useState)(!1),[Pe,De]=(0,l.useState)([]),[Te,Ve]=(0,l.useState)(""),[Oe,Fe]=(0,l.useState)(""),[Ye,qe]=(0,l.useState)([]),[We,Ue]=(0,l.useState)(!0),[Be,He]=(0,l.useState)([]),[ze,Xe]=(0,l.useState)(!0),[Ge,Je]=(0,l.useState)([]),[Ke,Qe]=(0,l.useState)(!0),[Ze,$e]=(0,l.useState)(),[ea,aa]=(0,l.useState)(),[ta,la]=(0,l.useState)([]),[sa,ra]=(0,l.useState)([]),[oa,ca]=(0,l.useState)([]),[na,da]=(0,l.useState)([]),[ia,ma]=(0,l.useState)([]),[pa,va]=(0,l.useState)([]),[ha,xa]=(0,l.useState)([]),[ua,fa]=(0,l.useState)({proposer:"",proposerRole:"",PEmail:"",addproposer:"",addproposerRole:"",APEmail:"",verifier:"",verifierRole:"",VEmail:"",recommender1:"",recommender1Role:"",R1Email:"",recommender2:"",recommender2Role:"",R2Email:"",approver:"",approverRole:"",AEmail:""}),[ga,_a]=(0,l.useState)(!1),[ba,wa]=(0,l.useState)(),[ja,Na]=(0,l.useState)(),[ya,Aa]=(0,l.useState)(),[Ea,Ra]=(0,l.useState)(),[Ca,ka]=(0,l.useState)(),[Sa,La]=(0,l.useState)(),[Ia,Ma]=(0,l.useState)(),[Pa,Da]=(0,l.useState)({}),[Ta,Va]=(0,l.useState)(!1),Oa=l.useRef(null),[Fa,Ya]=(0,l.useState)(),qa=e=>new Date(e).toString().substring(0,15);(0,l.useEffect)((()=>{(async()=>{a(!0);try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empDet"),{ADID:I});A(e.data.data.USERNAME),L(e.data.data.EMAIL)}catch(e){console.error("Failed to fetch User:",e)}a(!1)})()}),[I]),(0,l.useEffect)((()=>{(async()=>{try{const e=await y.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/vCode"));O(e.data.data)}catch(e){console.error("Failed to fetch vendor codes:",e)}})()}),[]);const Wa={options:V,getOptionLabel:e=>e.INV_VENDOR_CODE};(0,l.useEffect)((()=>{(async()=>{a(!0);try{let e="https://tslwebappdev01.corp.tatasteel.com:8087/get/availContracts";const a=await y.A.post(e,{Category:J,VCode:F});a.data.data.length>0?(ne("exist"),se(a.data.data),oe(a.data.data)):"Standard"===J?(ne("don't exist"),se([{checked:!1,cc_con_sub_cat:"Supply",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Engg",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Works",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Erec",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Supervision",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"PMC",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"EPC",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null}])):"Small"===J&&(ne("don't exist"),se([{checked:!1,cc_con_sub_cat:"Supply",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Service",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null},{checked:!1,cc_con_sub_cat:"Manpower",cc_flag:0,cc_con_t_years:0,cc_con_t_months:0,cc_con_s_date:null,cc_con_e_date:null}]))}catch(e){console.log("Failed to fetch types",e)}a(!1)})()}),[J,F]);const Ua=(e,a,t)=>{const l=[...le];"checked"!==a&&"cc_con_t_years"!==a&&"cc_con_t_months"!==a&&"cc_con_s_date"!==a&&"cc_con_e_date"!==a||(l[e][a]=t,1==l[e].checked&&(l[e].cc_con_t_years>0||l[e].cc_con_t_months>0)&&"null"!==l[e].cc_con_s_date&&null!==l[e].cc_con_s_date&&""!==l[e].cc_con_s_date&&"null"!==l[e].cc_con_e_date&&null!==l[e].cc_con_e_date&&""!==l[e].cc_con_e_date?l[e].cc_flag=1:(l[e].cc_flag=0,0==l[e].checked&&(l[e].cc_con_t_years=0,l[e].cc_con_t_months=0,l[e].cc_con_s_date=null,l[e].cc_con_e_date=null))),se(l)};function Ba(e){e.target.style.height="auto",e.target.style.height=e.target.scrollHeight+"px"}(0,l.useEffect)((()=>{if((null===le||void 0===le?void 0:le.length)>0){if("exist"!==ce)return Z("N"),Ue(!0),Qe(!0),Xe(!0),_e(),Le(),Re(),Ae(),Ne(),Ve(""),void Fe("");var e,t,l,s,r,o,c,n,d,i;(async()=>{var e,t,l;if(a(!0),1===(null===(e=le[0])||void 0===e?void 0:e.con_status))Z("R"),Ue(!0),Qe(!0),Xe(!0),te("Returned LTC"),ee("\n        LTC against vendor already exist under selected category and is returned by one of approvers.\n        \n        Do you wish to edit?");else if(2===(null===(t=le[0])||void 0===t?void 0:t.con_status)){var s;Z("A"),Ue(!0),Qe(!0),Xe(!0),te("Change in Existing LTC?"),ee("\n        This action will overwrite existing LTC Form initiated by ".concat(null===(s=le[0])||void 0===s?void 0:s.con_modify_by," for the vendor partner. Please submit LTC Form for all prevalent long term agreements with the vendor partner along with the date of their respective validity.\n        \n        Do you wish to proceed?"))}else if(0===(null===(l=le[0])||void 0===l?void 0:l.con_status)){var r;Z("UA"),Ue(!0),Qe(!0),Xe(!0),te("LTC under approval"),ee("\n        LTC against vendor already exist under selected category and is under approval. Initiated by ".concat(null===(r=le[0])||void 0===r?void 0:r.con_modify_by,'.\n        \n        Click "No" to move back.'))}else Z("N"),Ue(!0),Qe(!0),Xe(!0);(async()=>{try{var e;const a=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/arcContractDetails"),{ContractId:null===(e=le[0])||void 0===e?void 0:e.cc_con_id});(null===a||void 0===a?void 0:a.length)>0&&we(a.data.data)}catch(a){console.log("No previous details found to approve",a)}})(),a(!1)})(),_e(null===(e=le[0])||void 0===e?void 0:e.cc_con_id),xe(null===(t=le[0])||void 0===t?void 0:t.con_ltaAfImp),fe(null===(l=le[0])||void 0===l?void 0:l.con_ltaAfImp),Le(null===(s=le[0])||void 0===s?void 0:s.con_version),Re(null===(r=le[0])||void 0===r?void 0:r.con_l_dev_flag),ke(null===(o=le[0])||void 0===o?void 0:o.con_l_dev_flag),Ae(null===(c=le[0])||void 0===c?void 0:c.con_intro),Ne(null===(n=le[0])||void 0===n?void 0:n.con_scope),Ve(null===(d=le[0])||void 0===d?void 0:d.con_otc),Fe(null===(i=le[0])||void 0===i?void 0:i.con_osc)}}),[ce]),(0,l.useEffect)((()=>{(null===le||void 0===le?void 0:le.length)>0&&(()=>{for(const e of le){if(1==e.cc_flag||1==e.cc_flag){Me(!0);break}Me(!1)}})()}),[le]),(0,l.useEffect)((()=>{(async()=>{a(!0);try{let e="https://tslwebappdev01.corp.tatasteel.com:8087/get/rows";const a=await y.A.post(e,{Category:J,ConId:void 0!==ge&&"A"==Q&&Ee==Ce||void 0!==ge&&"R"==Q&&Ee==Ce?ge:0});De(a.data.data)}catch(e){console.log("Failed to fetch rows",e)}a(!1)})()}),[J,ge,Ee]);const Ha=(e,a,t)=>{const l=[...Pe];"document"!==a&&"flag"!==a&&"remarks"!==a||(l[e][a]=t),De(l)},za=e=>e+1<Pe.length&&Pe[e].lv1===Pe[e+1].lv1;(0,l.useEffect)((()=>{void 0!==ge&&"R"===Q&&(a(!0),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/contractApprovers"),{ContractId:void 0!==ge?ge:0});e&&$e(e.data.data)}catch(e){console.log("No details found to approve",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/contractApproversA"),{ContractId:void 0!==ge?ge:0});e&&aa(e.data.data)}catch(e){console.log("No details found to approve",e)}})(),a(!1))}),[ge,Q]),(0,l.useEffect)((()=>{Ee===Ce&&he===ue?null===Ze||void 0===Ze||Ze.forEach((e=>{"Proposer"===e.cam_role&&fa((a=>({...a,proposer:e.cam_approver,proposerRole:e.cam_app_role,PEmail:e.cam_app_email}))),"Additional Proposer"===e.cam_role&&fa((a=>({...a,addproposer:e.cam_approver,addproposerRole:e.cam_app_role,APEmail:e.cam_app_email}))),"Verifier"===e.cam_role&&fa((a=>({...a,verifier:e.cam_approver,verifierRole:e.cam_app_role,VEmail:e.cam_app_email}))),"Recommender #1"===e.cam_role&&fa((a=>({...a,recommender1:e.cam_approver,recommender1Role:e.cam_app_role,R1Email:e.cam_app_email}))),"Recommender #2"===e.cam_role&&fa((a=>({...a,recommender2:e.cam_approver,recommender2Role:e.cam_app_role,R2Email:e.cam_app_email}))),"Approver"===e.cam_role&&fa((a=>({...a,approver:e.cam_approver,approverRole:e.cam_app_role,AEmail:e.cam_app_email})))})):null===Ze||void 0===Ze||Ze.forEach((e=>{"Proposer"===e.cam_role&&fa((e=>({...e,proposer:"",proposerRole:"",PEmail:""}))),"Additional Proposer"===e.cam_role&&fa((e=>({...e,addproposer:"",addproposerRole:"",APEmail:""}))),"Verifier"===e.cam_role&&fa((e=>({...e,verifier:"",verifierRole:"",VEmail:""}))),"Recommender #1"===e.cam_role&&fa((e=>({...e,recommender1:"",recommender1Role:"",R1Email:""}))),"Recommender #2"===e.cam_role&&fa((e=>({...e,recommender2:"",recommender2Role:"",R2Email:""}))),"Approver"===e.cam_role&&fa((e=>({...e,approver:"",approverRole:"",AEmail:""})))}))}),[Ze,Ee,he]),(0,l.useEffect)((()=>{"A"!==Q&&"N"!==Q||(a(!0),(async()=>{try{const e=await y.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empAll"));la(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empCon"),{level1:3,level2:4});ca(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empCom"),{level1:2,level2:3});da(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empCon"),{level1:1,level2:2});ma(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empCom"),{level1:1,level2:2});va(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),(async()=>{try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/get/empCom"),{level1:3,level2:0});ra(e.data.data),xa(e.data.data)}catch(e){console.log("Contract id can't be generated",e)}})(),a(!1))}),[Q]);const Xa={options:ta,getOptionLabel:e=>e.EMPLOYEE},Ga={options:sa,getOptionLabel:e=>e.EMPLOYEE},Ja={options:oa,getOptionLabel:e=>e.EMPLOYEE},Ka={options:na,getOptionLabel:e=>e.EMPLOYEE},Qa={options:ia,getOptionLabel:e=>e.EMPLOYEE},Za={options:pa,getOptionLabel:e=>e.EMPLOYEE},$a={options:ha,getOptionLabel:e=>e.EMPLOYEE},et=async(e,a,t,l)=>{"proposer"!==e&&"addproposer"!==e&&"verifier"!==e&&"recommender1"!==e&&"recommender2"!==e&&"approver"!==e||await fa((t=>({...t,[e]:a}))),"proposer"===e&&fa((e=>({...e,proposerRole:t,PEmail:l}))),"addproposer"===e&&fa((e=>({...e,addproposerRole:t,APEmail:l}))),"verifier"===e&&fa((e=>({...e,verifierRole:t,VEmail:l}))),"recommender1"===e&&fa((e=>({...e,recommender1Role:t,R1Email:l}))),"recommender2"===e&&fa((e=>({...e,recommender2Role:t,R2Email:l}))),"approver"===e&&fa((e=>({...e,approverRole:t,AEmail:l})))},at=async e=>{const a=new(E())();Array.from(e).forEach(((e,t)=>{a.file(e.name,e)}));return await a.generateAsync({type:"blob"})};(0,l.useEffect)((()=>{a(!0);void 0!=ge&&0!=ga&&1!=ba&&1!=ya&&1!=Ca&&(async()=>{const e=await at(Ge),t=await at(Be),l=await at(Ye);if(0!==Ge.length){const a=new FileReader();a.readAsDataURL(e),a.onload=async()=>{const e=a.result.split(",")[1];try{const a=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/uploadAttachments"),{VendorCode:F,Version:"N"===Q?1:Se+1,uid:ge,file:e,fileName:"Vendor Shared.zip"});200==a.status?(console.log(a.data.message),wa(!0)):(Na("fail"),wa(!1),console.log(a.data.message))}catch(t){Na("fail"),wa(!1),console.log("Error uploading file",t.message)}}}if(0===Ge.length&&"R"===Q&&wa(!0),0!==Be.length){const e=new FileReader();e.readAsDataURL(t),e.onload=async()=>{const a=e.result.split(",")[1];try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/uploadAttachments"),{VendorCode:F,Version:"N"===Q?1:Se+1,uid:ge,file:a,fileName:"Vendor Signed.zip"});200==e.status?(console.log(e.data.message),Aa(!0)):(Ra("fail"),Aa(!1),console.log(e.data.message))}catch(t){Ra("fail"),Aa(!1),console.log("Error uploading file",t.message)}}}if(0===Be.length&&"R"===Q&&Aa(!0),0!==Ye.length){const e=new FileReader();e.readAsDataURL(l),e.onload=async()=>{const t=e.result.split(",")[1];try{const e=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/uploadAttachments"),{VendorCode:F,Version:"N"===Q?1:Se+1,uid:ge,file:t,fileName:"Final Deviations List.zip"});200==e.status?(console.log(e.data.message),ka(!0)):(La("fail"),ka(!1),console.log(e.data.message))}catch(l){La("fail"),ka(!1),a(!1),console.log("Error uploading file",l.message)}}}0===Ye.length&&"R"===Q&&ka(!0)})()}),[ge,ga]),(0,l.useEffect)((()=>{void 0!=ge&&0!=ga&&void 0!=ba&&void 0!=ya&&void 0!=Ca&&(ga&&ba&&ya&&Ca?(s.oR.success(Ia),(async()=>{a(!0);try{let p="",v=0;""!==ua.proposer&&void 0!==ua.proposer?(p="".concat(ua.PEmail),v=ua.proposer.split("|")[0]):""!==ua.addproposer&&void 0!==ua.addproposer?(p="".concat(ua.APEmail),v=ua.addproposer.split("|")[0]):""!==ua.verifier&&void 0!==ua.verifier?(p="".concat(ua.VEmail),v=ua.verifier.split("|")[0]):""!==ua.recommender1&&void 0!==ua.recommender1?(p="".concat(ua.R1Email),v=ua.recommender1.split("|")[0]):""!==ua.recommender2&&void 0!==ua.recommender2?(p="".concat(ua.R2Email),v=ua.recommender2.split("|")[0]):(p="".concat(ua.AEmail),v=ua.approver.split("|")[0]);var e="";if(le.forEach((a=>{1==a.cc_flag&&(e=e+a.cc_con_sub_cat+", ")})),"N"===Q){const l=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/send/genEmail"),{ADID:"".concat("ipms@tatasteel.com"),PASS:"".concat("123@tata"),TO:p,SUB:"LTC Form (New) - Request is awaiting your approval for ".concat(q),TXT:"\n              Dear Sir/Ma'am,\n\n              Please find below details\n              LTC ID :  ".concat(ge,"/V1\n              Registered By\t:  ").concat(t," (").concat(I,")\n              Registered Date\t:  ").concat(qa(T),"\n              Vendor Name :  ").concat(q," (").concat(F,")\n              Category of contract :  ").concat(J,"\n              LTC Sub category :  ").concat(e,"\n              Current Status\t:  Pending for approval with (").concat(v,")\n\n              Click/Copy the below url to your browser\n              ").concat("https://tslwebappdev01.corp.tatasteel.com/EnP-AppStore","/ovoc/cr/").concat(v,"/").concat(ge,"\n              \n              Regards,\n              IPMS Team\n              \n              ****This is a system generated mail****")});l.message,console.log(l.message),window.location.reload(),a(!1)}if("A"===Q){var l,s,r,o,c;const n=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/send/genEmail"),{ADID:"".concat("ipms@tatasteel.com"),PASS:"".concat("123@tata"),TO:p,SUB:"LTC Form (Modification) - Request is awaiting your approval for ".concat(q),TXT:"\n              Dear Sir/Ma'am,\n\n              Please find below details\n              Last approved Request ID :  ".concat(ge,"/V").concat(Se,"\n              Last registered by :  ").concat(null===(l=le[0])||void 0===l?void 0:l.con_modify_by,"\n              Last registered date :  ").concat(qa(null===(s=le[0])||void 0===s?void 0:s.con_modify_date.split("T")[0]),"\n              New Request ID :  ").concat(ge,"/V").concat(Se+1,"\n              Registered By\t:  ").concat(t," (").concat(I,")\n              Registered Date\t:  ").concat(qa(T),"\n              Vendor Name :  ").concat(q," (").concat(F,")\n              Category of contract :  ").concat(J,"\n              LTC Sub category :  ").concat(e,"\n              Current Status\t:  Pending for approval with (").concat(v,")\n\n              Click/Copy the below url to your browser\n              ").concat("https://tslwebappdev01.corp.tatasteel.com/EnP-AppStore","/ovoc/cr/").concat(v,"/").concat(ge,"\n              \n              Regards,\n              IPMS Team\n              \n              ****This is a system generated mail****")}),d=await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/send/genEmail"),{ADID:"".concat("ipms@tatasteel.com"),PASS:"".concat("123@tata"),TO:null===(r=le[0])||void 0===r?void 0:r.con_modify_email,SUB:"LTC Form (Modification) - Request is modified for ".concat(q),TXT:"\n              Dear Sir/Ma'am,\n\n              Please find below details\n              Below mentioned request ID is initiated for modification in existing LTC Form for ".concat(q,", this is for your information.\n              Last approved Request ID :  ").concat(ge,"/V").concat(Se,"\n              Last registered by :  ").concat(null===(o=le[0])||void 0===o?void 0:o.con_modify_by,"\n              Last registered date :  ").concat(qa(null===(c=le[0])||void 0===c?void 0:c.con_modify_date.split("T")[0]),"\n              New Request ID :  ").concat(ge,"/V").concat(Se+1,"\n              Registered By\t:  ").concat(t," (").concat(I,")\n              Registered Date\t:  ").concat(qa(T),"\n              Vendor Name :  ").concat(q," (").concat(F,")\n              Category of contract :  ").concat(J,"\n              LTC Sub category :  ").concat(e,"\n              Current Status\t:  Pending for approval with (").concat(v,")\n              \n              Regards,\n              IPMS Team\n              \n              ****This is a system generated mail****")});"Mail sent"==n.message&&d.message,console.log(n.message),window.location.reload(),a(!1)}if("R"===Q){var n,d,i,m="";(m="undefined"==be||""==be?await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/send/genEmail"),{ADID:"".concat("ipms@tatasteel.com"),PASS:"".concat("123@tata"),TO:p,SUB:"LTC Form (New) - Request is awaiting your approval for ".concat(q),TXT:"\n                Dear Sir/Ma'am,\n  \n                Please find below details\n                LTC ID :  ".concat(ge,"/V").concat(Se+1,"\n                Registered By\t:  ").concat(t," (").concat(I,")\n                Registered Date\t:  ").concat(qa(T),"\n                Vendor Name :  ").concat(q," (").concat(F,")\n                Category of contract :  ").concat(J,"\n                LTC Sub category :  ").concat(e,"\n                Current Status\t:  Pending for approval with (").concat(v,")\n  \n                Click/Copy the below url to your browser\n                ").concat("https://tslwebappdev01.corp.tatasteel.com/EnP-AppStore","/ovoc/cr/").concat(v,"/").concat(ge,"\n                \n                Regards,\n                IPMS Team\n                \n                ****This is a system generated mail****")}):await y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/send/genEmail"),{ADID:"".concat("ipms@tatasteel.com"),PASS:"".concat("123@tata"),TO:p,SUB:"LTC Form (Modification) - Request is awaiting your approval for ".concat(q),TXT:"\n                Dear Sir/Ma'am,\n  \n                Please find below details\n                Last approved Request ID :  ".concat(ge,"/V").concat(null===(n=be[0])||void 0===n?void 0:n.con_version,"\n                Last registered by :  ").concat(null===(d=be[0])||void 0===d?void 0:d.con_modify_by,"\n                Last registered date :  ").concat(qa(null===(i=be[0])||void 0===i?void 0:i.con_modify_date.split("T")[0]),"\n                New Request ID :  ").concat(ge,"/V").concat(Se+1,"\n                Registered By\t:  ").concat(t," (").concat(I,")\n                Registered Date\t:  ").concat(qa(T),"\n                Vendor Name :  ").concat(q," (").concat(F,")\n                Category of contract :  ").concat(J,"\n                LTC Sub category :  ").concat(e,"\n                Current Status\t:  Pending for approval with (").concat(v,")\n  \n                Click/Copy the below url to your browser\n                ").concat("https://tslwebappdev01.corp.tatasteel.com/EnP-AppStore","/ovoc/cr/").concat(v,"/").concat(ge,"\n                \n                Regards,\n                IPMS Team\n                \n                ****This is a system generated mail****")})).message,console.log(m.message),window.location.reload(),a(!1)}}catch(p){console.log("Error in mail Sending",p),setTimeout((()=>{window.location.reload(),a(!1)}),12e3)}})()):!ga||"fail"!=ja&&"fail"!=Ea&&"fail"!=Sa?s.oR.error("CR operation Failed!"):(y.A.post("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/delete/newTransaction"),{ContractId:ge}),a(!1)))}),[ge,ga,ba,ya,Ca,ja,Ea,Sa]);const tt=async e=>{if(e)try{const a=await y.A.get("".concat("https://tslwebappdev01.corp.tatasteel.com:8087","/attachments/getAttachments/").concat(e),{responseType:"blob"});if(a){const t=window.URL.createObjectURL(new Blob([a.data])),l=document.createElement("a");l.href=t,l.setAttribute("download",e),document.body.appendChild(l),l.click()}else s.oR.error(a.data.message)}catch(a){s.oR.error("Error fetching file."),console.log("Error fetching file: ".concat(a.message))}else s.oR.error("No file found")};return(0,l.useEffect)((()=>{"N"!==Ee||s.oR.isActive(Oa.current)?"Y"!==Ee||0!=he||s.oR.isActive(Oa.current)?"Y"===Ee&&he&&!s.oR.isActive(Oa.current)&&(Oa.current=s.oR.info("LTC effective after implementation of online LTC portal and Any other deviation except Terms of Payment / Delivery Schedule. Approval matrix selected as per SOP.")):Oa.current=s.oR.info("LTC effective prior to implementation of online LTC portal and Any other deviation except Terms of Payment / Delivery Schedule. 3 Level approval matrix selected."):Oa.current=s.oR.info("LTC effective prior to implementation of online LTC portal and No Deviation OR Deviation in Terms of payment and / or delivery schedule only. 2 Level approval matrix selected.")}),[Ee,he]),(0,C.jsxs)(C.Fragment,{children:[e&&(0,C.jsx)(R.A,{}),(0,C.jsx)(s.N9,{position:"top-center",className:"mt-60"}),(0,C.jsx)("div",{className:"flex-1 overflow-auto relative pt-16",children:(0,C.jsxs)("div",{className:"bg-img absolute inset-0",children:[(0,C.jsx)("div",{className:"absolute inset-0 bg-white opacity-85"}),(0,C.jsxs)("div",{className:"relative p-4 flex-col justify-between items-center",children:[(0,C.jsxs)("div",{className:"text-xl font-bold flex-grow text-center",children:["Long Term Agreement on Commercial terms & conditions (LTC) Form\xa0","N"==Q?"(New Form)":"(Modification in existing LTC)"]}),(0,C.jsx)("div",{className:"flex justify-end w-full",children:(0,C.jsxs)("div",{className:"relative mr-0.5 flex-col justify-between items-center",children:[(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("span",{className:"text-black font-small",children:"User:"}),(0,C.jsxs)("span",{className:"ml-2 text-black",children:[t," (",I,")"]})]}),(0,C.jsxs)("div",{className:"flex items-center",children:[(0,C.jsx)("span",{className:"text-black font-small",children:"Date:"}),(0,C.jsx)("span",{className:"ml-2 text-black",children:qa(T)})]})]})}),(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{htmlFor:"vendorCode",className:"ml-2 text-black font-small",children:["Vendor Code",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{class:"md:2/3 flex items-center",children:[(0,C.jsx)(o.A,{className:"p-0 rounded bg-white border border-gray-400 flex-grow",...Wa,id:"vendorCode",disableClearable:!0,onChange:(e,a)=>{se([]),xe(!0),Z("N"),Qe(!0),Xe(!0),Ue(!0),_e(),Ne(),Ae(),Re(),Le(),Me(!1),De([]),Va(!1),Ve(""),Fe(""),qe([]),Je([]),He([]),fa({proposer:"",proposerRole:"",PEmail:"",addproposer:"",addproposerRole:"",APEmail:"",verifier:"",verifierRole:"",VEmail:"",recommender1:"",recommender1Role:"",R1Email:"",recommender2:"",recommender2Role:"",R2Email:"",approver:"",approverRole:"",AEmail:""}),aa(),W(),B(),z(""),G(),K(),Y(a.INV_VENDOR_CODE.split("|")[0])},renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"300px"}})}),(0,C.jsx)("button",{className:"ml-2 p-1 rounded bg-gray-300 hover:bg-orange-200",onClick:async()=>{a(!0);try{let e="https://tslwebappdev01.corp.tatasteel.com:8087/get/vDetails";const a=await y.A.post(e,{vCode:F});W(a.data.data[0].INV_NAME),B(a.data.data[0].VM_ADDRESS),z(a.data.data[0].inv_ven_email),G(a.data.data[0].INS_MOBILE_NO)}catch(e){console.log(e),s.oR.error("Failed to fetch vendor details")}a(!1)},children:"Search"})]})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{htmlFor:"vendorName",className:"ml-2 text-black font-small",children:"Vendor Name"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("input",{type:"text",id:"vendorName",value:q,placeholder:"Vendor Name",className:"p-0 rounded w-full bg-gray-200 border border-gray-400",disabled:!0})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{htmlFor:"vendorAdd",className:"ml-2 text-black font-small",children:"Vendor Address"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("input",{type:"text",id:"vendorAdd",value:U,placeholder:"Vendor Address",className:"p-0 rounded w-full bg-gray-200 border border-gray-400",disabled:!0})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{htmlFor:"vendorEmail",className:"ml-2 text-black font-small",children:"Vendor Email"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("input",{type:"text",id:"vendorEmail",value:H,placeholder:"Vendor Email",className:"p-0 rounded w-full bg-gray-200 border border-gray-400",disabled:!0})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{htmlFor:"vendorCon",className:"ml-2 text-black font-small",children:"Vendor Contact"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("input",{type:"text",id:"vendorCon",value:X,placeholder:"Vendor Contact",className:"p-0 rounded w-full bg-gray-200 border border-gray-400",disabled:!0})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{htmlFor:"categoryOfCon",className:"ml-2 text-black font-small",children:["Category of contract",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsxs)(c.A,{row:!0,onChange:e=>{se([]),xe(!0),Z("N"),Ue(!0),Qe(!0),Xe(!0),_e(),Ne(),Ae(),Re(),Le(),Me(!1),De([]),Va(!1),Ve(""),Fe(""),qe([]),Je([]),He([]),fa({proposer:"",proposerRole:"",PEmail:"",addproposer:"",addproposerRole:"",APEmail:"",verifier:"",verifierRole:"",VEmail:"",recommender1:"",recommender1Role:"",R1Email:"",recommender2:"",recommender2Role:"",R2Email:"",approver:"",approverRole:"",AEmail:""}),aa(),K(e.target.value)},value:void 0==J?"":J,required:!0,children:[(0,C.jsx)(n.A,{className:"ml-4",value:"Standard",control:(0,C.jsx)(d.A,{}),label:"Standard"}),(0,C.jsx)(n.A,{className:"ml-4",value:"Small",control:(0,C.jsx)(d.A,{}),label:"General Order"})]})})]}),(0,C.jsx)(k,{Mode:Q,Head:ae,Warn:$}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["LTC Sub-Category",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)(i.A,{component:m.A,children:(0,C.jsxs)(p.A,{children:[(0,C.jsx)(v.A,{className:"py-2 bg-blue-100",children:(0,C.jsxs)(h.A,{children:[(0,C.jsx)(x.A,{style:{color:"black",width:"10%",fontWeight:"bold",textAlign:"center"},children:"Add"}),(0,C.jsx)(x.A,{style:{color:"black",width:"20%",fontWeight:"bold",textAlign:"center"},children:"Type"}),(0,C.jsxs)(x.A,{style:{color:"black",width:"10%",fontWeight:"bold",textAlign:"center"},children:["Years",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)(x.A,{style:{color:"black",width:"10%",fontWeight:"bold",textAlign:"center"},children:["Months",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)(x.A,{style:{color:"black",width:"25%",fontWeight:"bold",textAlign:"center"},children:["Start Date",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,C.jsxs)(x.A,{style:{color:"black",width:"25%",fontWeight:"bold",textAlign:"center"},children:["End Date",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})]})}),(0,C.jsx)(u.A,{children:null===le||void 0===le?void 0:le.map(((e,a)=>{var t,l;return(0,C.jsxs)(h.A,{children:[(0,C.jsx)(x.A,{style:{color:"black",width:"10%",textAlign:"center"},children:(0,C.jsx)(f.A,{checked:e.checked,onChange:e=>{Ua(a,"checked",e.target.checked)}})}),(0,C.jsx)(x.A,{className:"py-2 items-center justify-between w-2/12",style:e.cc_flag?{color:"green",width:"20%",textAlign:"center"}:{color:"red",width:"20%",textAlign:"center"},children:e.cc_con_sub_cat}),(0,C.jsx)(x.A,{style:{color:"black",width:"20%",textAlign:"center"},children:(0,C.jsx)(o.A,{id:"tenureYears",value:e.cc_con_t_years,required:!0,disabled:"UA"===Q||("N"===Q||"A"===Q||"R"===Q)&&0==e.checked,options:[1,2,3,4,5],getOptionLabel:e=>e.toString(),onChange:(e,t)=>{ie(t),Ua(a,"cc_con_t_years",t)},renderInput:a=>(0,C.jsx)(r.A,{...a,variant:"standard",fullWidth:!0,disabled:"UA"===Q||("N"===Q||"A"===Q||"R"===Q)&&0==e.checked,required:!0})})}),(0,C.jsx)(x.A,{style:{color:"black",width:"20%",textAlign:"center"},children:(0,C.jsx)(o.A,{id:"tenureMonths",value:e.cc_con_t_months,required:!0,disabled:"UA"===Q||("N"===Q||"A"===Q||"R"===Q)&&0==e.checked,options:[1,2,3,4,5,6,7,8,9,10,11],getOptionLabel:e=>e.toString(),onChange:(e,t)=>{pe(t),Ua(a,"cc_con_t_months",t)},renderInput:a=>(0,C.jsx)(r.A,{...a,variant:"standard",fullWidth:!0,disabled:"UA"===Q||("N"===Q||"A"===Q||"R"===Q)&&0==e.checked,required:!0})})}),(0,C.jsx)(x.A,{style:{color:"black",width:"25%",textAlign:"center"},children:(0,C.jsx)("input",{className:"peer h-full w-full rounded-[7px] border border-blue-gray-200 bg-transparent px-3 py-2.5 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-gray-900 focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50 cursor-pointer",type:"date",max:(new Date()).toISOString().split("T")[0],value:null===(t=e.cc_con_s_date)||void 0===t?void 0:t.split("T")[0],placeholder:"Start Date",required:!0,disabled:"UA"===Q||("N"===Q||"A"===Q||"R"===Q)&&0==e.checked,onChange:e=>(async(e,a,t,l)=>{Ua(e,"cc_con_s_date",a);let s="string"===typeof a?new Date(a):a;for(var r of le)if(null!=r.cc_con_s_date){var o;let e=new Date(null===(o=r)||void 0===o?void 0:o.cc_con_s_date);if(e<ve){xe(!1);break}e>=ve&&xe(!0)}s.setFullYear(s.getFullYear()+t),s.setMonth(s.getMonth()+l);let c=s.toISOString().split("T")[0];Ua(e,"cc_con_e_date",c)})(a,e.target.value,de,me)})}),(0,C.jsx)(x.A,{style:{color:"black",width:"25%",textAlign:"center"},children:(0,C.jsx)("input",{className:"peer h-full w-full rounded-[7px] border border-blue-gray-200 bg-transparent px-3 py-2.5 font-sans text-sm font-normal text-blue-gray-700 outline outline-0 transition-all placeholder-shown:border placeholder-shown:border-blue-gray-200 placeholder-shown:border-t-blue-gray-200 focus:border-2 focus:border-gray-900 focus:outline-0 disabled:border-0 disabled:bg-blue-gray-50 cursor-pointer",type:"date",value:null===(l=e.cc_con_e_date)||void 0===l?void 0:l.split("T")[0],disabled:!0})})]},a)}))})]})})})]}),(0,C.jsxs)("div",{className:"bg-transparent relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Introduction",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)(r.A,{className:"w-full p-1 bg-blue-50 rounded shadow-inner",style:{minHeight:"30px"},value:void 0!=ye?ye:"",required:!0,multiline:!0,error:!!Pa.intro,helperText:Pa.intro,onChange:e=>{Ae(e.target.value)}})})]}),(0,C.jsxs)("div",{className:"bg-transparent relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Scope",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)(r.A,{className:"w-full p-1 bg-blue-50 rounded shadow-inner",value:void 0!=je?je:"",required:!0,multiline:!0,style:{minHeight:"30px"},error:!!Pa.scope,helperText:Pa.scope,onChange:e=>{Ne(e.target.value)}})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Deviations",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsx)("div",{className:"md:w-2/3 flex-col",children:(0,C.jsxs)(c.A,{onChange:e=>{"N"==Q&&De([]),Va(!1),"N"!=Q&&"A"!=Q||fa({proposer:"",proposerRole:"",PEmail:"",addproposer:"",addproposerRole:"",APEmail:"",verifier:"",verifierRole:"",VEmail:"",recommender1:"",recommender1Role:"",R1Email:"",recommender2:"",recommender2Role:"",R2Email:"",approver:"",approverRole:"",AEmail:""}),Re(e.target.value)},value:"Y"===Ee?"Y":"N"===Ee?"N":"",required:!0,children:[(0,C.jsx)(n.A,{className:"ml-4",value:"Y",control:(0,C.jsx)(d.A,{}),label:"Any other deviation except Terms of Payment / Delivery Schedule"}),(0,C.jsx)(n.A,{className:"ml-4",value:"N",control:(0,C.jsx)(d.A,{}),label:"No Deviation OR Deviation in Terms of payment and / or delivery schedule only"})]})})]}),(0,C.jsx)("div",{className:"relative w-full md:flex mb-2",children:(0,C.jsx)(i.A,{component:m.A,children:(0,C.jsxs)(p.A,{children:[(0,C.jsx)(v.A,{className:"py-2 bg-blue-100",children:(0,C.jsxs)(h.A,{children:[(0,C.jsx)(x.A,{style:{color:"blue",width:"25%",fontWeight:"bolder",textAlign:"center"},children:"Clauses"}),(0,C.jsx)(x.A,{style:{color:"blue",width:"25%",fontWeight:"bolder",textAlign:"center"},children:"Tendor Documents"}),(0,C.jsxs)(x.A,{style:{color:"blue",width:"50%",fontWeight:"bolder",textAlign:"center"},children:["Flags",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})]})}),(0,C.jsx)(u.A,{children:null===Pe||void 0===Pe?void 0:Pe.map(((e,a)=>(0,C.jsxs)(h.A,{children:[(0,C.jsxs)(x.A,{style:{width:"25%",textWrap:"wrap",fontWeight:null===e.lv2?"bolder":"",textAlign:"left"},children:[null===e.lv2?e.lv1+". ":"  ",e.Clause]}),(0,C.jsx)(x.A,{style:{width:"25%",textAlign:"left"},children:("Y"===Ee&&e.edit_dev||"N"===Ee&&e.edit,(0,C.jsx)("p",{children:"null"===e.document?"":e.document}))}),(0,C.jsx)(x.A,{style:{width:"50%"},children:"null"!=e.lv2&&null!=e.lv2||!za(a)?(0,C.jsxs)(C.Fragment,{children:[Ta&&("Y"==Ee&&(void 0==e.flag||""==e.flag)||"N"==Ee&&e.edit&&(void 0==e.flag||""==e.flag)||"Y"==Ee&&"N"==e.flag&&("null"==e.remarks||null==e.remarks||void 0==e.remarks||""==e.remarks)||"N"==Ee&&e.edit&&"N"==e.flag&&("null"==e.remarks||null==e.remarks||void 0==e.remarks||""==e.remarks))&&(0,C.jsx)("text",{className:"text-red-500 text-xs",children:"Required field missing!"}),(0,C.jsxs)(c.A,{row:!0,value:"N"===Ee&&0==e.edit?"Y":e.flag,onChange:e=>Ha(a,"flag",e.target.value),required:!0,children:[(0,C.jsx)(n.A,{value:"Y",control:(0,C.jsx)(d.A,{}),label:"Yes"}),(0,C.jsx)(n.A,{disabled:"N"===Ee&&0==e.edit,value:"N",control:(0,C.jsx)(d.A,{}),label:"No"}),e.na&&(0,C.jsx)(n.A,{disabled:"N"===Ee&&0==e.edit,value:"NA",control:(0,C.jsx)(d.A,{}),label:"NA"})]}),("N"===e.flag||"NA"===e.flag)&&(0,C.jsx)("textarea",{className:"w-full p-1 bg-blue-50 rounded shadow-md",type:"text",value:"null"==e.remarks||null==e.remarks?"":e.remarks,disabled:"N"===Ee&&0==e.edit,required:"N"===e.flag,placeholder:"N"===e.flag?"Remarks required":"Remarks optional",onChange:e=>Ha(a,"remarks",e.target.value),onInput:Ba})]}):""})]},a)))})]})})}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{className:"ml-2 text-black font-small",children:"Other Commercial Conditions"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("textarea",{className:"w-full p-1 bg-blue-50 rounded shadow-inner",type:"text",value:""==Te?"":Te,required:!0,style:{minHeight:"30px"},onInput:Ba,onChange:e=>{Ve(e.target.value)}})})]}),(0,C.jsxs)("div",{className:"relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsx)("label",{className:"ml-2 text-black font-small",children:"Commercial Recommendation"})}),(0,C.jsx)("div",{className:"md:w-2/3",children:(0,C.jsx)("textarea",{className:"w-full p-1 bg-blue-50 rounded shadow-inner",type:"text",value:""==Oe?"":Oe,required:!0,style:{minHeight:"30px"},onInput:Ba,onChange:e=>{Fe(e.target.value)}})})]}),(0,C.jsx)("div",{children:(0,C.jsxs)("div",{className:"flex-col bg-blue-50 rounded-xl",children:[(0,C.jsx)("div",{className:"bg-blue-300 px-2 justify-start rounded-t-xl text-xl font-bold",children:"Attachments"}),("N"===Q||"A"===Q||"R"===Q)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"bg-transparent relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Contract shared with vendor",(0,C.jsx)("span",{className:"text-red-500",children:"*"}),(0,C.jsx)("span",{className:"mr-0.5 text-xs",children:"(Multiple docx, doc)"})]})}),(0,C.jsxs)("div",{className:"flex md:w-2/3",children:[(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files),t=a.filter((e=>"application/vnd.openxmlformats-officedocument.wordprocessingml.document"===e.type));t.length!==a.length?(console.log("Only docx files are allowed!"),s.oR.error("Only docx files are allowed"),e.target.value(null)):Je(t)},accept:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",multiple:!0,disabled:"R"===Q&&Ke})}),("A"===Q||"R"===Q&&Ke)&&(0,C.jsxs)("div",{className:"flex md:w-1/2 items-center text-sm italic",children:["R"===Q&&Ke&&(0,C.jsx)("button",{className:"mr-2",onClick:()=>{Qe(!1)},children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px","fill-rule":"evenodd","clip-rule":"evenodd",baseProfile:"basic",children:(0,C.jsx)("path",{fill:"#e41e2f","fill-rule":"evenodd",d:"M16.997,18.997v2h2v2h2\tv2h2v2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2v-2h2v-2h2v-2h2v-2h2v-2h-2v-2h-2v2h-2v2h-2v2h-2v2h-2v-2h-2v-2h-2v-2h-2v-2h-2v2h-2v2h2v2h2\tv2h2v2h2v2h-2v2h-2v2h-2v2h-2v2h2v2h2v-2h2v-2h2v-2h2v-2H16.997z","clip-rule":"evenodd"})})}),"Last Upload: \xa0",(0,C.jsx)("button",{onClick:()=>{const e=le[0].con_VSF;tt(e)},className:"text-blue-700 underline",children:le[0].con_VSF})]})]})]}),(0,C.jsxs)("div",{className:"bg-transparent relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Vendor Signed Contract",(0,C.jsx)("span",{className:"text-red-500",children:"*"}),(0,C.jsx)("span",{className:"mr-0.5 text-xs",children:"(Multiple PDFs)"})]})}),(0,C.jsxs)("div",{className:"flex md:w-2/3",children:[(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files),t=a.filter((e=>"application/pdf"===e.type));t.length!==a.length?(console.log("Only pdf files are allowed!"),s.oR.error("Only pdf files are allowed"),e.target.value(null)):He(t)},accept:"application/pdf",multiple:!0,disabled:"R"===Q&&ze})}),("A"===Q||"R"===Q&&ze)&&(0,C.jsxs)("div",{className:"flex md:w-1/2 items-center text-sm italic",children:["R"===Q&&ze&&(0,C.jsx)("button",{className:"mr-2",onClick:()=>{Xe(!1)},children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px","fill-rule":"evenodd","clip-rule":"evenodd",baseProfile:"basic",children:(0,C.jsx)("path",{fill:"#e41e2f","fill-rule":"evenodd",d:"M16.997,18.997v2h2v2h2\tv2h2v2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2v-2h2v-2h2v-2h2v-2h2v-2h-2v-2h-2v2h-2v2h-2v2h-2v2h-2v-2h-2v-2h-2v-2h-2v-2h-2v2h-2v2h2v2h2\tv2h2v2h2v2h-2v2h-2v2h-2v2h-2v2h2v2h2v-2h2v-2h2v-2h2v-2H16.997z","clip-rule":"evenodd"})})}),"Last Upload: \xa0",(0,C.jsx)("button",{onClick:()=>{const e=le[0].con_VSgF;tt(e)},className:"text-blue-700 underline",children:le[0].con_VSgF})]})]})]}),(0,C.jsxs)("div",{className:"bg-transparent relative w-full md:flex mb-2",children:[(0,C.jsx)("div",{className:"md:w-1/3",children:(0,C.jsxs)("label",{className:"ml-2 text-black font-small",children:["Final Deviations list",(0,C.jsx)("span",{className:"text-red-500",children:"*"}),(0,C.jsx)("span",{className:"mr-0.5 text-xs",children:"(Multiple PDFs)"})]})}),(0,C.jsxs)("div",{className:"flex md:w-2/3",children:[(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)("input",{type:"file",onChange:e=>{const a=Array.from(e.target.files),t=a.filter((e=>"application/pdf"===e.type));t.length!==a.length&&1===a.length?(console.log("Only one pdf file are allowed!"),s.oR.error("Only one pdf file are allowed"),e.target.value(null)):qe(t)},accept:"application/pdf",multiple:!0,disabled:"R"===Q&&We})}),("A"===Q||"R"===Q&&We)&&(0,C.jsxs)("div",{className:"flex md:w-1/2 items-center text-sm italic",children:["R"===Q&&We&&(0,C.jsx)("button",{className:"mr-2",onClick:()=>{Ue(!1)},children:(0,C.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",width:"32px",height:"32px","fill-rule":"evenodd","clip-rule":"evenodd",baseProfile:"basic",children:(0,C.jsx)("path",{fill:"#e41e2f","fill-rule":"evenodd",d:"M16.997,18.997v2h2v2h2\tv2h2v2h2v-2h2v-2h-2v-2h-2v-2h-2v-2h-2v-2h2v-2h2v-2h2v-2h2v-2h-2v-2h-2v2h-2v2h-2v2h-2v2h-2v-2h-2v-2h-2v-2h-2v-2h-2v2h-2v2h2v2h2\tv2h2v2h2v2h-2v2h-2v2h-2v2h-2v2h2v2h2v-2h2v-2h2v-2h2v-2H16.997z","clip-rule":"evenodd"})})}),"Last Upload: \xa0",(0,C.jsx)("button",{onClick:()=>{const e=le[0].con_DF;tt(e)},className:"text-blue-700 underline",children:le[0].con_DF})]})]})]})]})]})}),(0,C.jsxs)("div",{className:"flex-col bg-blue-50 rounded-xl",children:[(0,C.jsx)("div",{className:"bg-blue-300 px-2 justify-start rounded-t-xl text-xl font-bold",children:"Approval Matrix"}),("A"===Q||"N"===Q||"R"===Q)&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"proposer",className:"ml-2 text-black font-small",children:["Proposer",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"Buyer"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Xa,id:"proposer",disableClearable:!0,value:{EMPLOYEE:ua.proposer,EMAIL:ua.PEmail},onChange:(e,a)=>{et("proposer",a.EMPLOYEE,"Buyer",a.EMAIL)},renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Proposer"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("span",{children:"Approved"}):(0,C.jsx)("span",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&he&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsx)("label",{htmlFor:"addproposer",className:"ml-2 text-black font-small",children:"Additional Proposer"})}),(0,C.jsxs)("div",{class:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"IL3 (Commercial)"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Ga,id:"addproposer",disableClearable:!0,value:{EMPLOYEE:ua.addproposer,EMAIL:ua.APEmail},onChange:(e,a)=>et("addproposer",a.EMPLOYEE,"IL3 (Commercial)",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Additional Proposer"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("span",{children:"Approved"}):(0,C.jsx)("span",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"verifier",className:"ml-2 text-black font-small",children:["Verifier",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{class:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"IL4/IL3 Contract Management"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Ja,id:"verifier",disableClearable:!0,value:{EMPLOYEE:ua.verifier,EMAIL:ua.VEmail},onChange:(e,a)=>et("verifier",a.EMPLOYEE,"IL4/IL3 Contract Management",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Verifier"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("span",{children:"Approved"}):(0,C.jsx)("span",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&he&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"recommender1",className:"ml-2 text-black font-small",children:["Recommender #1",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"IL2/IL3 directly reporting to Chief Commercial (E&P)"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Ka,id:"recommender1",disableClearable:!0,value:{EMPLOYEE:ua.recommender1,EMAIL:ua.R1Email},onChange:(e,a)=>et("recommender1",a.EMPLOYEE,"IL2/IL3 directly reporting to Chief Commercial (E&P)",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Recommender #1"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("span",{children:"Approved"}):(0,C.jsx)("span",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&he&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"recommender2",className:"ml-2 text-black font-small",children:["Recommender #2",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"Chief Contract Management"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Qa,id:"recommender2",disableClearable:!0,value:{EMPLOYEE:ua.recommender2,EMAIL:ua.R2Email},onChange:(e,a)=>et("recommender2",a.EMPLOYEE,"Chief Contract Management",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Recommender #2"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("span",{children:"Approved"}):(0,C.jsx)("span",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&he&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"approver",className:"ml-2 text-black font-small",children:["Approver",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"Chief Commercial"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Za,id:"approver",disableClearable:!0,value:{EMPLOYEE:ua.approver,EMAIL:ua.AEmail},onChange:(e,a)=>et("approver",a.EMPLOYEE,"Chief Commercial",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Approver"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("div",{children:"Approved"}):(0,C.jsx)("div",{children:"Returned"})})]})},a)))})]}),"N"===Ee&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"approver",className:"ml-2 text-black font-small",children:["Approver",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"IL3 (Commercial)"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...$a,id:"approver",disableClearable:!0,value:{EMPLOYEE:ua.approver,EMAIL:ua.AEmail},onChange:(e,a)=>et("approver",a.EMPLOYEE,"IL3 (Commercial)",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Approver"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("div",{children:"Approved"}):(0,C.jsx)("div",{children:"Returned"})})]})},a)))})]}),"Y"===Ee&&0==he&&(0,C.jsxs)("div",{className:"w-full md:flex mb-2 mt-4",children:[(0,C.jsx)("div",{className:"md:w-1/6",children:(0,C.jsxs)("label",{htmlFor:"approver",className:"ml-2 text-black font-small",children:["Approver",(0,C.jsx)("span",{className:"text-red-500",children:"*"})]})}),(0,C.jsxs)("div",{className:"md:w-3/6 flex items-start",children:[(0,C.jsx)("div",{className:"md:w-1/2 text-sm",children:"IL2 (Commercial)"}),(0,C.jsx)("div",{className:"md:w-1/2",children:(0,C.jsx)(o.A,{...Za,id:"approver",disableClearable:!0,value:{EMPLOYEE:ua.approver,EMAIL:ua.AEmail},onChange:(e,a)=>et("approver",a.EMPLOYEE,"IL2 (Commercial)",a.EMAIL),renderInput:e=>(0,C.jsx)(r.A,{...e,variant:"standard",fullWidth:!0,required:!0,style:{width:"220px"}})})})]}),(0,C.jsx)("div",{className:"md:w-2/6 italic text-sm",children:null===ea||void 0===ea?void 0:ea.map(((e,a)=>(0,C.jsx)("div",{className:"md:w-full flex items-start bg-transparent text-black text-xs",children:"Approver"===e.cam_role&&(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("div",{className:"md:w-3/12",children:["Version: ",e.cam_app_version]}),(0,C.jsxs)("div",{className:"md:w-6/12 max-h-10 overflow-y-auto break-words",children:["Remarks: ",e.cam_app_remarks]}),(0,C.jsx)("div",{className:"md:w-3/12",children:e.cam_app_status?(0,C.jsx)("div",{children:"Approved"}):(0,C.jsx)("div",{children:"Returned"})})]})},a)))})]})]})]}),("N"===Q||"A"===Q||"R"===Q)&&(0,C.jsxs)("div",{className:"bg-transparent flex justify-end space-x-8 p-4",children:[(0,C.jsx)("button",{className:"bg-green-500 hover:bg-green-600 active:bg-green-700 text-white font-bold py-2 px-4 rounded shadow-lg transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0.5",onClick:()=>Ya(!0),children:"Submit"}),(0,C.jsx)("button",{className:"bg-red-500 hover:bg-red-600 active:bg-red-700 text-white font-bold py-2 px-4 rounded shadow-lg transform hover:-translate-y-1 hover:shadow-xl active:translate-y-0.5",children:"Cancel"})]}),(0,C.jsxs)(g.A,{open:Fa,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,C.jsx)(N.A,{id:"alert-dialog-title",children:"Confirmation"}),(0,C.jsx)(w.A,{children:(0,C.jsxs)(j.A,{id:"alert-dialog-description",children:["R"===Q?"Note: The attachments section not selected will be continued with previous ones and the attachment uploaded will replace previous one.":"","Do you wish to submit?"]})}),(0,C.jsxs)(b.A,{children:[(0,C.jsx)(_.A,{onClick:async e=>{e.preventDefault(),Ya(!1);let l={},r=0;for(var o of(void 0!=ye&&""!=ye||(l.intro="Introduction is required"),void 0!=je&&""!=je||(l.scope="Scope is required"),Va(!0),Pe)){let e=o.cl_sl;if(void 0==ye||""==ye){s.oR.error("Missing mandatory field"),r=1;break}if(void 0==je||""==je){s.oR.error("Missing mandatory field"),r=1;break}if("Y"==Ee&&("null"!=o.lv2&&null!=o.lv2||("null"==o.lv2||null==o.lv2)&&!1===za(Pe.findIndex((a=>a.cl_sl===e))))&&(void 0==o.flag||""==o.flag||null==o.flag)){s.oR.error("Missing mandatory field"),r=1;break}if("N"==Ee&&o.edit&&("null"!=o.lv2&&null!=o.lv2||("null"==o.lv2||null==o.lv2)&&!1===za(Pe.findIndex((a=>a.cl_sl===e))))&&(void 0==o.flag||""==o.flag||null==o.flag)){s.oR.error("Missing mandatory field"),r=1;break}if("Y"==Ee&&"N"==o.flag&&("null"!=o.lv2&&null!=o.lv2||("null"==o.lv2||null==o.lv2)&&!1===za(Pe.findIndex((a=>a.cl_sl===e))))&&("null"==o.remarks||null==o.remarks||void 0==o.remarks||""==o.remarks)){s.oR.error("Missing mandatory field"),r=1;break}if("N"==Ee&&o.edit&&"N"==o.flag&&("null"!=o.lv2&&null!=o.lv2||("null"==o.lv2||null==o.lv2)&&!1===za(Pe.findIndex((a=>a.cl_sl===e))))&&("null"==o.remarks||null==o.remarks||void 0==o.remarks||""==o.remarks)){s.oR.error("Missing mandatory field"),r=1;break}r=0}if(1!==r)if(0!=Ie){let e=0!==Ge.length&&0!==Be.length&&0!==Ye.length;if("R"!==Q&&0==e||"R"===Q&&0==Ke&&0===Ge.length||"R"===Q&&0==ze&&0===Be.length||"R"===Q&&0==We&&0===Ye.length)return void s.oR.error("Attachments missing!");if("N"===Ee&&(""==ua.proposer||void 0==ua.proposer||""==ua.approver||void 0==ua.approver))return void s.oR.error("Approval matrix incomplete!");if("Y"===Ee&&he&&(""==ua.proposer||void 0==ua.proposer||""==ua.verifier||void 0==ua.verifier||""==ua.recommender1||void 0==ua.recommender1||""==ua.recommender2||void 0==ua.recommender2||""==ua.approver||void 0==ua.approver))return void s.oR.error("Approval matrix incomplete!");if("Y"===Ee&&0==he&&(""==ua.proposer||void 0==ua.proposer||""==ua.verifier||void 0==ua.verifier||""==ua.approver||void 0==ua.approver))return void s.oR.error("Approval matrix incomplete!");a(!0),Va(!1);try{let e="https://tslwebappdev01.corp.tatasteel.com:8087/put/createCr",a="https://tslwebappdev01.corp.tatasteel.com:8087/put/editRCr",l="".concat(I,"|").concat(t).substring(0,20);if("N"===Q){const a=await y.A.post(e,{Category:J,SubCategory:le,CreateDate:T,Intro:ye,Scope:je,CreateBy:l,CreateEmail:S,VendorCode:F,Version:1,Deviation:Ee,LtaAfterImp:he?1:0,Otc:Te,Osc:Oe,Rows:Pe,lv:1,Approvers:ua});console.log(a.data.message),Ma(a.data.message),_e(a.data.data.NewContractId),_a(!0)}if("A"===Q||"R"===Q){console.log("hello");const e=await y.A.post(a,{ContractId:ge,Category:J,SubCategory:le,ModifyDate:T,ModifyBy:l,ModifyEmail:S,Intro:ye,Scope:je,VendorCode:F,Ver:Se+1,mode:Q,Deviation:Ee,LtaAfterImp:he?1:0,Otc:Te,Osc:Oe,Rows:Pe,lv:1,Approvers:ua});console.log(e.data.message),Ma(e.data.message),_a(!0)}}catch(c){console.log(c),"N"===Q&&s.oR.error("LTC Failed from server, mandatory field missing!"),"A"!==Q&&"R"!==Q||s.oR.error("Modification in LTC failed from server!"),a(!1)}}else s.oR.error("Missing mandatory type");else Da(l)},children:"Yes"}),(0,C.jsx)(_.A,{onClick:()=>Ya(!1),autoFocus:!0,children:"No"})]})]})]})]})})]})}}}]);
//# sourceMappingURL=313.274eadc3.chunk.js.map